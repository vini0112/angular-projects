"use strict";(self.webpackChunkclothes_store=self.webpackChunkclothes_store||[]).push([[247],{1247:(lt,u,l)=>{l.r(u),l.d(u,{ProductsToolComponent:()=>ct});var t=l(3953),g=l(9722),d=l(177),m=l(6359),a=l(4341),_=l(1453);function h(e=1){return r=>{const o=r.value.filter(i=>i).length;return o>=e?null:{requireOneChecked:{actual:o,required:e}}}}const C=["productName"],x=["inputImage"],P=e=>({active:e});function b(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Product name required"),t.k0s())}function v(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Section required"),t.k0s())}function F(e,r){1&e&&(t.j41(0,"option",32),t.EFF(1,"Masculine"),t.k0s())}function k(e,r){1&e&&(t.j41(0,"option",33),t.EFF(1,"Feminine"),t.k0s())}function M(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Sexo required"),t.k0s())}function E(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Price required"),t.k0s())}function j(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Quantity required"),t.k0s())}function I(e,r){if(1&e&&(t.j41(0,"div")(1,"label",38),t.EFF(2),t.k0s(),t.nrm(3,"input",39),t.k0s()),2&e){const o=t.XpG(),i=o.$implicit,n=o.$index;t.R7$(2),t.JRh(i.label),t.R7$(),t.Y8G("name",i.label)("value",i.value)("formControlName",n)}}function O(e,r){if(1&e&&(t.j41(0,"div")(1,"label",38),t.EFF(2),t.k0s(),t.nrm(3,"input",39),t.k0s()),2&e){const o=t.XpG(2),i=o.$implicit,n=o.$index;t.R7$(2),t.JRh(i.label),t.R7$(),t.Y8G("name",i.label)("value",i.value)("formControlName",n)}}function T(e,r){if(1&e&&t.DNE(0,O,4,4,"div",40),2&e){const o=t.XpG().$implicit,i=t.XpG(2);t.Y8G("ngIf","both"===o.sexo&&"shoes"!==i.sectionSelect.value)}}function y(e,r){if(1&e&&t.DNE(0,I,4,4,"div",37)(1,T,1,1,"ng-template",null,2,t.C5r),2&e){const o=r.$implicit,i=t.sdS(2),n=t.XpG(2);t.Y8G("ngIf",o.sexo===n.sexoSelect.value&&"shoes"===n.sectionSelect.value)("ngIfElse",i)}}function w(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Please select at least one option"),t.k0s())}function R(e,r){if(1&e&&(t.j41(0,"div",34)(1,"h3",35),t.EFF(2,"Size"),t.k0s(),t.j41(3,"div",36),t.Z7z(4,y,3,2,null,null,t.Vm6),t.k0s(),t.DNE(6,w,2,0,"span",7),t.k0s()),2&e){const o=t.XpG();t.R7$(4),t.Dyx(o.sizeOptions),t.R7$(2),t.Y8G("ngIf",o.submitted&&o.postForm.controls.checkboxes.invalid)}}function G(e,r){1&e&&(t.j41(0,"span",41),t.EFF(1,"Image required"),t.k0s())}function D(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Description of the product required"),t.k0s())}function N(e,r){1&e&&(t.j41(0,"span",31),t.EFF(1,"Characters limit reached!"),t.k0s())}let S=(()=>{class e{fb;productService=(0,t.WQX)(g.g);messageService=(0,t.WQX)(_.b);statusCreationPage=new t.bkB;inputelement;inputImgElement;textareaCounter="";goBackToProductTools(){this.statusCreationPage.emit(!0)}constructor(o){this.fb=o,this.postForm=this.fb.group({name:[null,[a.k0.required]],section:["",[a.k0.required]],sexo:["",[a.k0.required]],price:[null,[a.k0.required]],quantity:[null,[a.k0.required]],image:[null,[a.k0.required]],info:[null,[a.k0.required,a.k0.maxLength(100)]],isFavorite:[0],isBestseller:[0],checkboxes:this.fb.array(this.sizeOptions.map(()=>this.fb.control(!1)),h(1))}),this.postForm.get("info")?.valueChanges.subscribe(i=>{this.textareaCounter=i.length})}ngAfterViewInit(){this.setFocus()}setFocus(){this.inputelement.nativeElement.focus()}selectedFile=null;postForm;submitted=!1;createProduct(){this.submitted=!0;const o=this.checkboxes.value.map((i,n)=>i?this.sizeOptions[n].value:null).filter(i=>null!==i);if(this.postForm.valid){const i=new FormData;i.append("name",this.postForm.value.name),i.append("info",this.postForm.value.info),i.append("section",this.postForm.value.section),i.append("sexo",this.postForm.value.sexo),i.append("price",this.postForm.value.price),i.append("quantity",this.postForm.value.quantity),i.append("image",this.selectedFile),i.append("isFavorite",this.postForm.value.isFavorite),i.append("isBestseller",this.postForm.value.isBestseller),i.append("sizes",o),this.productService.createProduct(i).subscribe({next:()=>{this.messageService.showMessage("Product Created!","success"),this.clearForm()},error:n=>{console.log("product not created!",n)}})}}get checkboxes(){return this.postForm.get("checkboxes")}get sectionSelect(){return this.postForm.controls.section}get sexoSelect(){return this.postForm.controls.sexo}sizeOptions=[{sexo:"both",section:"clothes",label:"S",value:1},{sexo:"both",section:"clothes",label:"M",value:2},{sexo:"both",section:"clothes",label:"L",value:3},{sexo:"both",section:"clothes",label:"XL",value:4},{sexo:"femi",section:"shoes",label:5,value:5},{sexo:"femi",section:"shoes",label:5.5,value:6},{sexo:"femi",section:"shoes",label:6,value:7},{sexo:"masc",section:"shoes",label:9,value:8},{sexo:"masc",section:"shoes",label:9.5,value:9},{sexo:"masc",section:"shoes",label:10,value:10}];onFileSelect(o){const i=o.target.files[0];i&&(this.selectedFile=i,this.postForm.patchValue({image:i}))}resetCheckBoxAfterChanges(){this.sexoSelect.value&&this.sectionSelect.value&&(this.checkboxes.reset(),console.log("Check Boxe Reseted!"))}clearForm(){this.submitted=!1,this.postForm.reset({section:"",sexo:"",price:null,quantity:null,info:"",name:null}),this.inputImgElement.nativeElement.value="",this.setFocus()}static \u0275fac=function(i){return new(i||e)(t.rXU(a.ok))};static \u0275cmp=t.VBU({type:e,selectors:[["app-creating-product"]],viewQuery:function(i,n){if(1&i&&(t.GBs(C,5),t.GBs(x,5)),2&i){let s;t.mGM(s=t.lsd())&&(n.inputelement=s.first),t.mGM(s=t.lsd())&&(n.inputImgElement=s.first)}},outputs:{statusCreationPage:"statusCreationPage"},decls:49,vars:16,consts:[["productName",""],["inputImage",""],["normalClotheSizes",""],[2,"text-align","center"],["data-testid","postForm",3,"formGroup"],[1,"leftSideInputs"],["type","text","name","name","placeholder","product name","formControlName","name"],["class","erroMsg",4,"ngIf"],["name","section","formControlName","section",3,"change"],["value","","disabled","","selected",""],["value","shirts"],["value","shoes"],["value","shorts"],["value","jackets"],["value","coats"],["name","sexo","formControlName","sexo",3,"change"],["value","masc",4,"ngIf"],["value","femi",4,"ngIf"],["type","number","name","price","placeholder","price","formControlName","price"],["type","number","name","quantity","placeholder","quantity","formControlName","quantity"],[1,"rightSideInputs"],["class","boxClotheSize",4,"ngIf"],["type","file","name","image",3,"change"],["class","erroMsg specialMargin",4,"ngIf"],[1,"boxTextArea"],["name","info","placeholder","product information...","formControlName","info"],[1,"textAreaWarning",3,"ngClass"],[1,"btnsPostProduct"],["type","button",3,"click"],["type","submit",3,"click"],[1,"fa-solid","fa-arrow-left-long","btnGoBack",3,"click"],[1,"erroMsg"],["value","masc"],["value","femi"],[1,"boxClotheSize"],[2,"font-family","var(--PrimaryFont)"],["formArrayName","checkboxes",1,"boxRadios"],[4,"ngIf","ngIfElse"],["for",""],["type","checkbox",3,"name","value","formControlName"],[4,"ngIf"],[1,"erroMsg","specialMargin"]],template:function(i,n){if(1&i){const s=t.RV6();t.j41(0,"h3",3),t.EFF(1,"Create New Product"),t.k0s(),t.j41(2,"form",4)(3,"div",5),t.nrm(4,"input",6,0),t.DNE(6,b,2,0,"span",7),t.j41(7,"select",8),t.bIt("change",function(){return t.eBV(s),t.Njj(n.resetCheckBoxAfterChanges())}),t.j41(8,"option",9),t.EFF(9,"Clothe section"),t.k0s(),t.j41(10,"option",10),t.EFF(11,"Shirts"),t.k0s(),t.j41(12,"option",11),t.EFF(13,"Shoes"),t.k0s(),t.j41(14,"option",12),t.EFF(15,"Shorts"),t.k0s(),t.j41(16,"option",13),t.EFF(17,"Jackets"),t.k0s(),t.j41(18,"option",14),t.EFF(19,"Coats"),t.k0s()(),t.DNE(20,v,2,0,"span",7),t.j41(21,"select",15),t.bIt("change",function(){return t.eBV(s),t.Njj(n.resetCheckBoxAfterChanges())}),t.j41(22,"option",9),t.EFF(23,"Choose your sexo"),t.k0s(),t.DNE(24,F,2,0,"option",16)(25,k,2,0,"option",17),t.k0s(),t.DNE(26,M,2,0,"span",7),t.nrm(27,"input",18),t.DNE(28,E,2,0,"span",7),t.nrm(29,"input",19),t.DNE(30,j,2,0,"span",7),t.k0s(),t.j41(31,"div",20),t.DNE(32,R,7,1,"div",21),t.j41(33,"input",22,1),t.bIt("change",function(p){return t.eBV(s),t.Njj(n.onFileSelect(p))}),t.k0s(),t.DNE(35,G,2,0,"span",23),t.j41(36,"div",24),t.nrm(37,"textarea",25),t.j41(38,"div",26),t.DNE(39,D,2,0,"span",7)(40,N,2,0,"span",7),t.j41(41,"span"),t.EFF(42),t.k0s()()(),t.j41(43,"div",27)(44,"button",28),t.bIt("click",function(){return t.eBV(s),t.Njj(n.clearForm())}),t.EFF(45,"Clear"),t.k0s(),t.j41(46,"button",29),t.bIt("click",function(){return t.eBV(s),t.Njj(n.createProduct())}),t.EFF(47,"Create"),t.k0s()()()(),t.j41(48,"i",30),t.bIt("click",function(){return t.eBV(s),t.Njj(n.goBackToProductTools())}),t.k0s()}2&i&&(t.R7$(2),t.Y8G("formGroup",n.postForm),t.R7$(4),t.Y8G("ngIf",n.submitted&&n.postForm.controls.name.invalid),t.R7$(14),t.Y8G("ngIf",n.submitted&&n.sectionSelect.invalid),t.R7$(4),t.Y8G("ngIf","jackets"!==n.sectionSelect.value),t.R7$(),t.Y8G("ngIf","coats"!==n.sectionSelect.value),t.R7$(),t.Y8G("ngIf",n.submitted&&n.sexoSelect.invalid),t.R7$(2),t.Y8G("ngIf",n.submitted&&n.postForm.controls.price.invalid),t.R7$(2),t.Y8G("ngIf",n.submitted&&n.postForm.controls.quantity.invalid),t.R7$(2),t.Y8G("ngIf",n.sectionSelect.value&&n.sexoSelect.value),t.R7$(3),t.Y8G("ngIf",n.submitted&&n.postForm.controls.image.invalid),t.R7$(3),t.Y8G("ngClass",t.eq3(14,P,n.submitted&&n.postForm.controls.info.invalid||n.postForm.controls.info.hasError("maxlength"))),t.R7$(),t.Y8G("ngIf",n.submitted&&n.postForm.controls.info.invalid&&!n.postForm.controls.info.hasError("maxlength")),t.R7$(),t.Y8G("ngIf",n.postForm.controls.info.hasError("maxlength")),t.R7$(2),t.SpI("",n.textareaCounter||0,"/100"))},dependencies:[a.X1,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.BC,a.cb,a.j4,a.JD,a.v8,d.bT,d.YU],styles:["[_nghost-%COMP%]{height:100%;display:block;max-width:800px;width:100%;margin:auto}form[_ngcontent-%COMP%]{border:1px solid var(--text-color);border-radius:20px;box-shadow:1px 1px 3px var(--text-color);width:100%;height:400px;display:grid;grid-template-columns:1fr 1fr;padding:10px;background-color:#fff}.leftSideInputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}.leftSideInputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:50px;width:80%;outline:none;padding-left:5px;border-radius:5px;border:1px solid black;font-size:1rem}.rightSideInputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;gap:1rem;color:#000}.rightSideInputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;font-size:1rem}.boxClotheSize[_ngcontent-%COMP%]{max-width:300px;height:70px;width:100%}.boxRadios[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.boxRadios[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:.3rem;font-size:1.1rem}.boxTextArea[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.textAreaWarning[_ngcontent-%COMP%]{width:80%;text-align:end}.textAreaWarning.active[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.rightSideInputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:5px;width:80%;height:80px;border-radius:5px;outline:none;margin:auto;font-size:1rem}.btnsPostProduct[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}.btnsPostProduct[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;border:none;padding:.4rem 1.2rem;border-radius:5px;color:#fff;font-weight:600}.btnsPostProduct[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:red}.btnsPostProduct[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:green}.btnGoBack[_ngcontent-%COMP%]{background-color:var(--text-color);padding:.4rem 1.8rem;border-radius:5px;font-weight:600;font-size:1.5rem;color:var(--bg-color);margin-top:1rem;cursor:pointer}.erroMsg[_ngcontent-%COMP%]{color:red;font-size:.9rem}.specialMargin[_ngcontent-%COMP%]{margin-top:-2rem}@media (max-width: 820px){form[_ngcontent-%COMP%]{width:80%;margin:auto}}@media (max-width: 450px){form[_ngcontent-%COMP%]{border:1px solid black;border-radius:10px;width:80%;height:750px;display:grid;grid-template-columns:1fr}.leftSideInputs[_ngcontent-%COMP%]{margin-bottom:1rem}.leftSideInputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], .rightSideInputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:90%}.specialMargin[_ngcontent-%COMP%]{margin-top:.2rem}}"],changeDetection:0})}return e})();var $=l(980);const f=e=>({EditionSentPage:e}),z=e=>({responseToEdition:e}),B=e=>({activateSuccess:e}),Y=e=>({activateFailed:e});function q(e,r){if(1&e){const o=t.RV6();t.j41(0,"div",12),t.nrm(1,"i",13),t.j41(2,"button",14),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.goToCreationProductPage())}),t.EFF(3,"Add New Product"),t.k0s()()}}function V(e,r){if(1&e){const o=t.RV6();t.j41(0,"tr")(1,"td",15),t.EFF(2),t.k0s(),t.j41(3,"td",16),t.EFF(4),t.k0s(),t.j41(5,"td",17),t.EFF(6),t.k0s(),t.j41(7,"td",18),t.EFF(8),t.k0s(),t.j41(9,"td",18),t.EFF(10),t.k0s(),t.j41(11,"td",15),t.EFF(12),t.k0s(),t.j41(13,"td",18),t.EFF(14),t.k0s(),t.j41(15,"td",19)(16,"button",20),t.bIt("click",function(){const n=t.eBV(o),s=n.$implicit,c=n.$index,p=t.XpG(2);return t.Njj(p.productToBeEdited(s,c))}),t.EFF(17,"Edit"),t.k0s(),t.j41(18,"button",21),t.bIt("click",function(){const n=t.eBV(o).$implicit,s=t.XpG(2);return t.Njj(s.deleteProduct(n.id))}),t.EFF(19,"Del"),t.k0s()()()}if(2&e){const o=r.$implicit;t.R7$(2),t.JRh(o.id),t.R7$(2),t.JRh(o.name),t.R7$(2),t.JRh(o.info),t.R7$(2),t.JRh(o.section),t.R7$(2),t.JRh(o.sexo),t.R7$(2),t.JRh(o.quantity),t.R7$(2),t.JRh(o.price.toFixed(2))}}function X(e,r){if(1&e&&(t.j41(0,"table")(1,"thead")(2,"tr")(3,"th",15),t.EFF(4,"Id"),t.k0s(),t.j41(5,"th",16),t.EFF(6,"Nome"),t.k0s(),t.j41(7,"th",17),t.EFF(8,"Info"),t.k0s(),t.j41(9,"th",18),t.EFF(10,"Section"),t.k0s(),t.j41(11,"th",18),t.EFF(12,"Sexo"),t.k0s(),t.j41(13,"th",15),t.EFF(14,"Qtd"),t.k0s(),t.j41(15,"th",18),t.EFF(16,"Price"),t.k0s(),t.j41(17,"th",16),t.EFF(18,"Actions"),t.k0s()()(),t.j41(19,"tbody"),t.Z7z(20,V,20,7,"tr",null,t.Vm6),t.nI1(22,"async"),t.k0s()()),2&e){const o=t.XpG();t.R7$(20),t.Dyx(t.bMT(22,0,o.allProducts$))}}function A(e,r){1&e&&t.nrm(0,"div",22)}function J(e,r){1&e&&(t.j41(0,"span",46),t.EFF(1,"Required"),t.k0s())}function Q(e,r){1&e&&(t.j41(0,"option",47),t.EFF(1,"Shirts"),t.k0s())}function W(e,r){1&e&&(t.j41(0,"option",48),t.EFF(1,"Shoes"),t.k0s())}function H(e,r){1&e&&(t.j41(0,"option",49),t.EFF(1,"Shorts"),t.k0s())}function U(e,r){1&e&&(t.j41(0,"option",50),t.EFF(1,"Jackets"),t.k0s())}function L(e,r){1&e&&(t.j41(0,"option",51),t.EFF(1,"Coats"),t.k0s())}function Z(e,r){1&e&&(t.j41(0,"option",52),t.EFF(1,"Masculine"),t.k0s())}function K(e,r){1&e&&(t.j41(0,"option",53),t.EFF(1,"Feminine"),t.k0s())}function tt(e,r){1&e&&(t.j41(0,"span",46),t.EFF(1,"Required"),t.k0s())}function et(e,r){1&e&&(t.j41(0,"span",46),t.EFF(1,"Required"),t.k0s())}function nt(e,r){1&e&&(t.j41(0,"span",46),t.EFF(1,"Required"),t.k0s())}function ot(e,r){1&e&&(t.j41(0,"span",46),t.EFF(1,"Characters limit reached!"),t.k0s())}function it(e,r){1&e&&t.nrm(0,"div",45)}function st(e,r){if(1&e){const o=t.RV6();t.j41(0,"div",54)(1,"p",55),t.EFF(2,"Product Edited Successfully!"),t.k0s(),t.nrm(3,"i",56),t.j41(4,"button",57),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.leaveEdit())}),t.EFF(5,"Leave"),t.k0s()(),t.j41(6,"div",58)(7,"p",55),t.EFF(8,"Product Not Uptaded"),t.k0s(),t.nrm(9,"i",59),t.j41(10,"button",57),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.leaveEdit())}),t.EFF(11,"Leave"),t.k0s()()}if(2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(2,B,o.successMsgActivated)),t.R7$(6),t.Y8G("ngClass",t.eq3(4,Y,o.failedMsgActivated))}}function rt(e,r){if(1&e){const o=t.RV6();t.j41(0,"div",23)(1,"form",24,0)(3,"div",25)(4,"input",26,1),t.mxI("ngModelChange",function(n){t.eBV(o);const s=t.XpG();return t.DH7(s.editItemData.name,n)||(s.editItemData.name=n),t.Njj(n)}),t.k0s(),t.DNE(6,J,2,0,"span",27),t.j41(7,"select",28),t.mxI("ngModelChange",function(n){t.eBV(o);const s=t.XpG();return t.DH7(s.editItemData.section,n)||(s.editItemData.section=n),t.Njj(n)}),t.j41(8,"option",29),t.EFF(9),t.k0s(),t.DNE(10,Q,2,0,"option",30)(11,W,2,0,"option",31)(12,H,2,0,"option",32)(13,U,2,0,"option",33)(14,L,2,0,"option",34),t.k0s(),t.j41(15,"select",35),t.mxI("ngModelChange",function(n){t.eBV(o);const s=t.XpG();return t.DH7(s.editItemData.sexo,n)||(s.editItemData.sexo=n),t.Njj(n)}),t.j41(16,"option",29),t.EFF(17),t.k0s(),t.DNE(18,Z,2,0,"option",36)(19,K,2,0,"option",37),t.k0s(),t.j41(20,"input",38,2),t.mxI("ngModelChange",function(n){t.eBV(o);const s=t.XpG();return t.DH7(s.editItemData.price,n)||(s.editItemData.price=n),t.Njj(n)}),t.k0s(),t.DNE(22,tt,2,0,"span",27),t.j41(23,"input",39,3),t.mxI("ngModelChange",function(n){t.eBV(o);const s=t.XpG();return t.DH7(s.editItemData.quantity,n)||(s.editItemData.quantity=n),t.Njj(n)}),t.k0s(),t.DNE(25,et,2,0,"span",27),t.j41(26,"textarea",40,4),t.mxI("ngModelChange",function(n){t.eBV(o);const s=t.XpG();return t.DH7(s.editItemData.info,n)||(s.editItemData.info=n),t.Njj(n)}),t.k0s(),t.DNE(28,nt,2,0,"span",27)(29,ot,2,0,"span",27),t.k0s(),t.j41(30,"div",41)(31,"button",42),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.cancelEdit())}),t.EFF(32,"Cancel"),t.k0s(),t.j41(33,"button",43),t.bIt("click",function(){t.eBV(o);const n=t.sdS(2),s=t.XpG();return t.Njj(s.btnFormEditProduct(n))}),t.EFF(34,"Save Changes"),t.k0s()()(),t.j41(35,"div",44),t.DNE(36,it,1,0,"div",45)(37,st,12,6),t.k0s()()}if(2&e){const o=t.sdS(5),i=t.sdS(21),n=t.sdS(24),s=t.sdS(27),c=t.XpG();t.Y8G("ngClass",t.eq3(26,f,c.openEditionPage)),t.R7$(),t.Y8G("ngClass",t.eq3(28,f,c.openEditionPage)),t.R7$(3),t.R50("ngModel",c.editItemData.name),t.R7$(2),t.Y8G("ngIf",null==o.errors?null:o.errors.required),t.R7$(),t.R50("ngModel",c.editItemData.section),t.R7$(),t.Y8G("value",c.editItemData.section),t.R7$(),t.JRh(c.editItemData.section),t.R7$(),t.Y8G("ngIf","shirts"!==c.editItemData.section),t.R7$(),t.Y8G("ngIf","shoes"!==c.editItemData.section),t.R7$(),t.Y8G("ngIf","shorts"!==c.editItemData.section),t.R7$(),t.Y8G("ngIf","jackets"!==c.editItemData.section),t.R7$(),t.Y8G("ngIf","coats"!==c.editItemData.section),t.R7$(),t.R50("ngModel",c.editItemData.sexo),t.R7$(),t.Y8G("value",c.editItemData.sexo),t.R7$(),t.JRh(c.editItemData.sexo),t.R7$(),t.Y8G("ngIf","masc"!==c.editItemData.sexo),t.R7$(),t.Y8G("ngIf","femi"!==c.editItemData.sexo),t.R7$(),t.R50("ngModel",c.editItemData.price),t.R7$(2),t.Y8G("ngIf",null==i.errors?null:i.errors.required),t.R7$(),t.R50("ngModel",c.editItemData.quantity),t.R7$(2),t.Y8G("ngIf",null==n.errors?null:n.errors.required),t.R7$(),t.R50("ngModel",c.editItemData.info),t.R7$(2),t.Y8G("ngIf",null==s.errors?null:s.errors.required),t.R7$(),t.Y8G("ngIf",!(null!=s.errors&&s.errors.required)&&(null==s.errors?null:s.errors.maxlength)),t.R7$(6),t.Y8G("ngClass",t.eq3(30,z,c.openEditionPage)),t.R7$(),t.vxM(c.loadingData?36:37)}}function at(e,r){if(1&e){const o=t.RV6();t.j41(0,"app-creating-product",60),t.bIt("statusCreationPage",function(n){t.eBV(o);const s=t.XpG();return t.Njj(s.handleResponse(n))}),t.k0s()}}let ct=(()=>{class e{cdr;messageService=(0,t.WQX)(_.b);productService=(0,t.WQX)(g.g);route=(0,t.WQX)(m.Ix);allProducts$=this.productService.allProducts$;constructor(o){this.cdr=o}createNewProductPage=(0,t.vPA)(!0);goToCreationProductPage(){this.createNewProductPage.set(!this.createNewProductPage())}handleResponse(o){console.log("Emition received!"),this.createNewProductPage.set(o)}loadingData=!1;openEditionPage=!1;successMsgActivated=!1;failedMsgActivated=!1;editDialogOpen=!1;shadowEditDialog=!1;indexProductToEdit=0;editItemData={};productToBeEdited(o,i){this.editItemData={...o},this.indexProductToEdit=i,this.editDialogOpen=!0,this.shadowEditDialog=!0}cancelEdit(){this.editDialogOpen=!1,this.shadowEditDialog=!1}leaveEdit(){this.editDialogOpen=!1,this.shadowEditDialog=!1,this.successMsgActivated=!1,this.failedMsgActivated=!1,this.openEditionPage=!1}btnFormEditProduct(o){if(o.valid)return this.openEditionPage=!0,this.loadingData=!0,void this.allProducts$.forEach(i=>{i[this.indexProductToEdit]&&this.productService.updateProduct(this.editItemData).pipe((0,$.j)(()=>{this.loadingData=!1,this.cdr.markForCheck()})).subscribe({next:()=>{console.log("Product updated!"),i[this.indexProductToEdit]={...this.editItemData},this.successMsgActivated=!0,this.cdr.markForCheck()},error:n=>{console.log("Product not updated!",n),this.failedMsgActivated=!0,this.cdr.markForCheck()}})});this.messageService.showMessage("Product invalid","error")}deleteProduct(o){window.confirm("Are you sure you wanna delete this item?")&&(this.productService.deleteProduct(o),this.messageService.showMessage("Product Deleted!","success"))}static \u0275fac=function(i){return new(i||e)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:e,selectors:[["app-products-tool"]],decls:8,vars:5,consts:[["editForm","ngForm"],["productName","ngModel"],["price","ngModel"],["qtd","ngModel"],["info","ngModel"],[2,"text-align","center","margin","0rem 0 1rem 0"],["class","linksNavigation",4,"ngIf"],[1,"boxTable"],[4,"ngIf"],["class","shadow",4,"ngIf"],["class","boxEditModel",3,"ngClass",4,"ngIf"],["data-testid","componentCreatingProduct",3,"statusCreationPage",4,"ngIf"],[1,"linksNavigation"],["routerLink","../",1,"fa-solid","fa-arrow-left-long","btnGoBack"],["data-testid","buttonAddNewProduct",1,"btnCreateProduct",3,"click"],[1,"sizeP"],[1,"sizeG"],[1,"sizeGG"],[1,"sizeM"],[1,"btnsCrud"],[1,"edit",3,"click"],[1,"del",3,"click"],[1,"shadow"],[1,"boxEditModel",3,"ngClass"],["data-testid","editForm",3,"ngClass"],[1,"boxInputsEdit"],["type","text","name","productName","required","","placeholder","Product name",3,"ngModelChange","ngModel"],["class","erroMsg",4,"ngIf"],["name","section",3,"ngModelChange","ngModel"],[3,"value"],["value","shirts",4,"ngIf"],["value","shoes",4,"ngIf"],["value","shorts",4,"ngIf"],["value","jackets",4,"ngIf"],["value","coats",4,"ngIf"],["name","sexo",3,"ngModelChange","ngModel"],["value","masc",4,"ngIf"],["value","femi",4,"ngIf"],["type","number","name","price","required","","placeholder","Price",3,"ngModelChange","ngModel"],["type","number","name","quantity","required","","placeholder","Quantity",3,"ngModelChange","ngModel"],["name","info","maxlength","100","required","","placeholder","Product Information",3,"ngModelChange","ngModel"],[1,"boxBtnsEdit"],["type","button",3,"click"],["type","submit",3,"click"],[1,"responseOfEdition",3,"ngClass"],[1,"spinner"],[1,"erroMsg"],["value","shirts"],["value","shoes"],["value","shorts"],["value","jackets"],["value","coats"],["value","masc"],["value","femi"],[1,"successEdition",3,"ngClass"],[1,"messageEditionRes"],[1,"fa-solid","fa-check","markEditionStatus"],[1,"respEditionBtn",3,"click"],[1,"failEdition",3,"ngClass"],[1,"fa-solid","fa-triangle-exclamation","markEditionStatus"],["data-testid","componentCreatingProduct",3,"statusCreationPage"]],template:function(i,n){1&i&&(t.j41(0,"h2",5),t.EFF(1,"All Products"),t.k0s(),t.DNE(2,q,4,0,"div",6),t.j41(3,"div",7),t.DNE(4,X,23,2,"table",8),t.k0s(),t.DNE(5,A,1,0,"div",9)(6,rt,38,32,"div",10)(7,at,1,0,"app-creating-product",11)),2&i&&(t.R7$(2),t.Y8G("ngIf",n.createNewProductPage()),t.R7$(2),t.Y8G("ngIf",n.createNewProductPage()),t.R7$(),t.Y8G("ngIf",n.shadowEditDialog),t.R7$(),t.Y8G("ngIf",n.editDialogOpen),t.R7$(),t.Y8G("ngIf",!n.createNewProductPage()))},dependencies:[d.bT,S,d.Jj,a.YN,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.YS,a.tU,a.vS,a.cV,d.YU,m.Wk],styles:["[_nghost-%COMP%]{display:block;position:relative}.erroMsg[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:-1.5rem;margin-right:2rem;width:100%}.linksNavigation[_ngcontent-%COMP%]{max-width:950px;width:100%;margin:auto;display:flex;justify-content:space-between;margin-bottom:.5rem}.btnGoBack[_ngcontent-%COMP%]{background-color:var(--text-color);padding:.2rem 1.5rem;border-radius:5px;font-weight:600;font-size:1.5rem;color:var(--bg-color);margin-top:1rem;cursor:pointer}.btnCreateProduct[_ngcontent-%COMP%]{border:none;text-decoration:none;padding:.3rem 1.8rem;background-color:var(--text-color);color:var(--bg-color);border-radius:5px;font-weight:600;cursor:pointer}table[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:2px solid var(--text-color);text-align:center}tbody[_ngcontent-%COMP%]{height:480px;overflow-y:scroll}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;justify-content:center;border-bottom:1px solid black}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#d5d5d55e}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:none;text-align:center}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:70px;height:30px;color:#fff;font-weight:600;border-radius:5px}.sizeP[_ngcontent-%COMP%]{width:50px}.sizeM[_ngcontent-%COMP%]{width:80px}.sizeG[_ngcontent-%COMP%]{width:160px}.sizeGG[_ngcontent-%COMP%]{width:350px}.btnsCrud[_ngcontent-%COMP%]{border:none;width:150px;height:50px;display:flex;justify-content:space-evenly;align-items:center}.edit[_ngcontent-%COMP%]{background-color:#00f;cursor:pointer}.del[_ngcontent-%COMP%]{background-color:red;cursor:pointer}.boxEditModel[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:600px;max-width:350px;width:100%;z-index:3;border:1px solid black;background-color:#fff;border-radius:10px}.boxEditModel.EditionSentPage[_ngcontent-%COMP%]{height:300px}form[_ngcontent-%COMP%]{padding:10px;height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.boxEditModel[_ngcontent-%COMP%]   form.EditionSentPage[_ngcontent-%COMP%]{display:none}.boxInputsEdit[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1.5rem;width:100%}.boxInputsEdit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding-left:5px;width:90%;outline:none;border:1px solid black;height:45px;border-radius:5px}.boxInputsEdit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:90%;height:75px;border-radius:5px;padding-left:5px}.boxBtnsEdit[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:flex;justify-content:space-evenly;align-items:center}.boxBtnsEdit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:.8rem 1.2rem;border-radius:5px;color:#fff;font-weight:600;cursor:pointer}.boxBtnsEdit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:red}.boxBtnsEdit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:green}.responseOfEdition[_ngcontent-%COMP%]{width:100%;height:100%;display:none;align-items:center;justify-content:center}.responseOfEdition.responseToEdition[_ngcontent-%COMP%]{display:flex}.successEdition[_ngcontent-%COMP%]{height:100%;width:100%;display:none;flex-direction:column;justify-content:space-evenly;align-items:center;background-color:#1bcded}.failEdition[_ngcontent-%COMP%]{height:100%;width:100%;display:none;background-color:#e34242;flex-direction:column;justify-content:space-evenly;align-items:center}.messageEditionRes[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black;font-size:1.1rem;letter-spacing:1px;font-weight:600}.markEditionStatus[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black;font-size:2.5rem;margin-bottom:1rem}.respEditionBtn[_ngcontent-%COMP%]{border:1px solid white;background-color:red;color:#fff;font-weight:600;padding:.3rem 1.2rem;text-shadow:1px 1px 1px black;letter-spacing:1px;border-radius:5px}.successEdition.activateSuccess[_ngcontent-%COMP%], .failEdition.activateFailed[_ngcontent-%COMP%]{display:flex}.shadow[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000000bf;z-index:2}@media (max-width: 820px){.sizeP[_ngcontent-%COMP%]{width:50px}.sizeM[_ngcontent-%COMP%]{width:70px}.sizeG[_ngcontent-%COMP%]{width:120px}.sizeGG[_ngcontent-%COMP%]{width:230px;font-size:.9rem}.btnsCrud[_ngcontent-%COMP%]{width:110px;height:50px}.btnCreateProduct[_ngcontent-%COMP%]{margin-right:2rem}.btnGoBack[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 768px){.sizeP[_ngcontent-%COMP%]{width:40px}.sizeM[_ngcontent-%COMP%]{width:70px}.sizeG[_ngcontent-%COMP%]{width:100px}.sizeGG[_ngcontent-%COMP%]{width:230px;font-size:.9rem}.btnsCrud[_ngcontent-%COMP%]{width:100px;height:50px}.btnCreateProduct[_ngcontent-%COMP%]{margin-right:2rem}}@media (max-width: 480px){.btnCreateProduct[_ngcontent-%COMP%]{margin-right:1rem;padding:.2rem 1.1rem}.btnGoBack[_ngcontent-%COMP%]{margin-left:0rem}.boxTable[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;display:block;border-collapse:collapse;min-width:730px}thead[_ngcontent-%COMP%]{display:block}}@media screen and (orientation: landscape) and (max-width: 950px){.btnCreateProduct[_ngcontent-%COMP%]{margin-right:1rem}.boxTable[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;display:block;border-collapse:collapse;min-width:1000px}thead[_ngcontent-%COMP%]{display:block}}@media screen and (orientation: landscape) and (max-height: 380px){table[_ngcontent-%COMP%]{width:100%;display:block;border-collapse:collapse;min-width:720px}}"],changeDetection:0})}return e})()}}]);