"use strict";(self.webpackChunkclothes_store=self.webpackChunkclothes_store||[]).push([[300],{1300:(y,i,o)=>{o.r(i),o.d(i,{PaymentStatusComponent:()=>P});var c=o(467),e=o(3953),r=o(6359),g=o(4742),d=o(8866),u=o(1453),_=o(9305),m=o(177);function h(a,l){1&a&&(e.j41(0,"div",3),e.nrm(1,"span",4),e.k0s())}function f(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",5)(1,"div",6),e.nrm(2,"img",7),e.k0s(),e.j41(3,"div",8)(4,"h3"),e.EFF(5,"Thank You!"),e.k0s(),e.j41(6,"div",9),e.nrm(7,"i",10),e.j41(8,"span"),e.EFF(9,"Payment Done Successfully"),e.k0s()(),e.j41(10,"p"),e.EFF(11,"Your order keeps us happy and committed to improve each day!"),e.k0s(),e.j41(12,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToHome())}),e.EFF(13,"Go to Home Page"),e.k0s()()()}}function p(a,l){1&a&&(e.j41(0,"div",12),e.nrm(1,"i",13),e.j41(2,"h5"),e.EFF(3,"Your payment was denied!"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Sorry, we weren't able to complete your payment at this time. Please, make sure that your account informations are correct and try again."),e.k0s(),e.j41(6,"a",14),e.EFF(7,"Initial Page"),e.k0s()())}let P=(()=>{class a{cdf;router=(0,e.WQX)(r.Ix);localStorageService=(0,e.WQX)(g.s);messageService=(0,e.WQX)(u.b);checkoutService=(0,e.WQX)(_.C);loading=!0;token;successPayment=null;constructor(t){this.cdf=t,this.token=this.localStorageService.getItem("accessToken")}ngOnInit(){this.checkPaymentPageStatus()}checkPaymentPageStatus(){var t=this;return(0,c.A)(function*(){const s=yield t.userJWTInformation();if(null===s)return t.messageService.showMessage("Are you sure that you're logged?","info"),void(t.loading=!1);t.checkoutService.statusPayment(s).subscribe({next:n=>{t.loading=!1,t.successPayment=!0===n.status,t.cdf.markForCheck()},error:n=>{console.log("error:",n.message),t.loading=!1,t.successPayment=!1,t.cdf.markForCheck()}})})()}userJWTInformation(){var t=this;return(0,c.A)(function*(){let s;if(!t.token)return null;const n=yield(0,d.s)(t.token);return s={userId:n.id,email:n.email,username:n.username},s})()}goToHome(){this.router.navigateByUrl("/home")}static \u0275fac=function(s){return new(s||a)(e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:a,selectors:[["app-payment-status"]],decls:3,vars:3,consts:[["class","aligning",4,"ngIf"],["class","successStatus",4,"ngIf"],["class","deniedStatus",4,"ngIf"],[1,"aligning"],[1,"bigSpinner"],[1,"successStatus"],[1,"imgBox"],["src","assets/banners/banner_success3.png","alt","hand_sign"],[1,"phrase"],[1,"specialMsg"],[1,"fa-solid","fa-check"],[3,"click"],[1,"deniedStatus"],[1,"fa-solid","fa-triangle-exclamation"],["routerLink","/home"]],template:function(s,n){1&s&&e.DNE(0,h,2,0,"div",0)(1,f,14,0,"div",1)(2,p,8,0,"div",2),2&s&&(e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngIf",!n.loading&&!0===n.successPayment),e.R7$(),e.Y8G("ngIf",!n.loading&&!1===n.successPayment))},dependencies:[r.Wk,m.bT],styles:["[_nghost-%COMP%]{display:flex;height:85vh;justify-content:center}.aligning[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.imgBox[_ngcontent-%COMP%]{width:100%;height:40vh;background-color:#3dd43d;display:flex;justify-content:center;align-items:center}.imgBox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.phrase[_ngcontent-%COMP%]{width:100%;height:calc(100% - 40vh);display:flex;justify-content:center;flex-direction:column;align-items:center;row-gap:2rem}.phrase[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#3dd43d}.specialMsg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;width:100%}.specialMsg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#3dd43d;color:#fff;width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:1.3rem}.specialMsg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.phrase[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{background-color:#3dd43d;color:#fff;border:none;width:200px;height:50px;border-radius:5px;font-weight:600;font-size:1.1rem}.successStatus[_ngcontent-%COMP%]{width:100%}.deniedStatus[_ngcontent-%COMP%]{padding:5px;max-width:800px;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem}.deniedStatus[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem}.deniedStatus[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700}.deniedStatus[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.deniedStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:150px;height:50px;display:flex;justify-content:center;align-items:center;text-decoration:none;color:#fff;font-weight:600;background-color:red;border-radius:5px;text-shadow:1px 1px 1px black}"],changeDetection:0})}return a})()}}]);