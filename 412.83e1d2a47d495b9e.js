"use strict";(self.webpackChunkclothes_store=self.webpackChunkclothes_store||[]).push([[412],{3412:(h,i,o)=>{o.r(i),o.d(i,{ResetPasswordComponent:()=>P});var e=o(3953),t=o(4341),d=o(5120),c=o(9615),l=o(177),p=o(6359);const w=n=>({desativateFormReset:n}),g=n=>({passwordSent:n});function u(n,m){if(1&n&&(e.j41(0,"span",3),e.EFF(1),e.k0s()),2&n){const r=e.XpG();e.R7$(),e.JRh(r.messageErro("newPassword"))}}let P=(()=>{class n{fb;route;token="";authLoginService=(0,e.WQX)(c.x);resetPassword;constructor(r,s){this.fb=r,this.route=s,this.resetPassword=r.group({newPassword:[null,[t.k0.required,t.k0.minLength(4),t.k0.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).+$/),(0,d.f)()]],checkingPassword:[null]}),this.route.params.subscribe(a=>{this.token=a.token})}get newPassword(){return this.resetPassword.get("newPassword")}get confirmingPassword(){return this.resetPassword.get("checkingPassword")}messageErro(r){const s=this.resetPassword.get(r);return s?.hasError("pattern")?"Password must have uppcase, lowercase, numbers and special characters!":s?.hasError("hasSpaces")?"Spaces are not allowed!":null}passwordWasSent=!1;resetingPassword(){if(this.resetPassword.valid)if(this.newPassword?.value===this.confirmingPassword?.value){const r=this.newPassword?.value.replace(/\s/g,"");this.authLoginService.resetingPassword(r,this.token).subscribe({next:s=>{this.passwordWasSent=!0},error:s=>console.log(s)})}else this.newPassword?.value!==this.confirmingPassword?.value&&alert("Passwords not identical!");else alert("Invalid Form!")}static \u0275fac=function(s){return new(s||n)(e.rXU(t.ok),e.rXU(p.nX))};static \u0275cmp=e.VBU({type:n,selectors:[["app-reset-password"]],decls:13,vars:8,consts:[[1,"container"],[1,"formReset",3,"submit","formGroup","ngClass"],["type","password","name","newPassword","placeholder","New Password","formControlName","newPassword"],[1,"errorMsg"],["type","password","name","checkingPassword","placeholder","Confirme Password","formControlName","checkingPassword"],["type","submit"],[1,"passwordUpdatedScreen",3,"ngClass"],[1,"fa-solid","fa-check"]],template:function(s,a){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("submit",function(){return a.resetingPassword()}),e.nrm(2,"input",2),e.DNE(3,u,2,1,"span",3),e.nrm(4,"input",4),e.j41(5,"button",5),e.EFF(6,"Redefine"),e.k0s()(),e.j41(7,"div",6)(8,"span"),e.EFF(9,"Password Updated..."),e.k0s(),e.nrm(10,"i",7),e.j41(11,"span"),e.EFF(12,"Please, close this page and get back to the previous one!"),e.k0s()()()),2&s&&(e.R7$(),e.Y8G("formGroup",a.resetPassword)("ngClass",e.eq3(4,w,a.passwordWasSent)),e.R7$(2),e.vxM(null!=a.newPassword&&a.newPassword.dirty?3:-1),e.R7$(4),e.Y8G("ngClass",e.eq3(6,g,a.passwordWasSent)))},dependencies:[t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,l.YU],styles:["[_nghost-%COMP%]{height:80vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{width:350px;height:400px;border-radius:20px;background-color:#000!important;padding:0}.formReset[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:10px}.formReset.desativateFormReset[_ngcontent-%COMP%]{display:none}.formReset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;height:50px;outline:none;border:none;border-radius:5px;padding-left:5px}.formReset[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:150px;height:45px;border-radius:5px;color:#fff;background-color:#35537a}.errorMsg[_ngcontent-%COMP%]{width:90%;font-size:.9rem;color:#fff;text-shadow:1px 1px 1px black;margin:-10px}.passwordUpdatedScreen[_ngcontent-%COMP%]{height:100%;display:none;flex-direction:column;align-items:center;justify-content:space-evenly}.passwordUpdatedScreen[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#fff;text-shadow:1px 1px 1px black}.passwordUpdatedScreen[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black;font-size:1.1rem;text-align:center}.passwordUpdatedScreen.passwordSent[_ngcontent-%COMP%]{display:flex}"],changeDetection:0})}return n})()}}]);