"use strict";(self.webpackChunkclothes_store=self.webpackChunkclothes_store||[]).push([[520],{8520:(M,c,o)=>{o.r(c),o.d(c,{FavoritesComponent:()=>E});var t=o(3953),v=o(9722),_=o(177),f=o(4972),l=o(6354),p=o(9437),d=o(7673),m=o(6697),u=o(6359);function C(e,s){1&e&&t.nrm(0,"i",13)}function F(e,s){1&e&&t.nrm(0,"i",14)}function g(e,s){if(1&e){const i=t.RV6();t.j41(0,"div",2)(1,"div",3),t.bIt("click",function(){const r=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.productDetails(r.id))}),t.nrm(2,"img",4),t.k0s(),t.j41(3,"div",5)(4,"span",6),t.EFF(5),t.k0s(),t.j41(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"div",7)(9,"button",8),t.bIt("click",function(){const r=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.productDetails(r.id))}),t.nrm(10,"i",9),t.k0s(),t.j41(11,"button",10),t.bIt("click",function(){const r=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.clickInHeart(r))}),t.DNE(12,C,1,0,"i",11)(13,F,1,0,"i",12),t.k0s()()()}if(2&e){const i=s.$implicit;t.R7$(2),t.Y8G("src",i.image,t.B4B)("alt",i.name),t.R7$(3),t.SpI("$ ",i.price.toFixed(2),""),t.R7$(2),t.JRh(i.info),t.R7$(5),t.Y8G("ngIf",0==i.isFavorite),t.R7$(),t.Y8G("ngIf",1==i.isFavorite)}}function P(e,s){if(1&e&&(t.j41(0,"h2"),t.EFF(1,"Your Favorite Products"),t.k0s(),t.j41(2,"div",1),t.Z7z(3,g,14,6,"div",2,t.Vm6),t.nI1(5,"async"),t.k0s()),2&e){const i=t.XpG();t.R7$(3),t.Dyx(t.bMT(5,0,i.favoriteProducts$))}}function h(e,s){1&e&&(t.j41(0,"div",0),t.nrm(1,"img",15),t.j41(2,"p"),t.EFF(3,"OOPS... You don't have favorite clothes!"),t.k0s()())}let E=(()=>{class e{cdf;productsService=(0,t.WQX)(v.g);listCartServices=(0,t.WQX)(f.F);router=(0,t.WQX)(u.Ix);constructor(i){this.cdf=i}favoriteProducts$=this.productsService.allProducts$.pipe((0,l.T)(i=>i.filter(n=>1==n.isFavorite)),(0,p.W)(i=>(console.log("ERROR getting favorites ",i),(0,d.of)([]))));clickInHeart(i){this.productsService.updateFavorite(i.id,i.isFavorite).subscribe(n=>{n&&(i.isFavorite=!i.isFavorite,this.cdf.markForCheck()),0==i.isFavorite&&this.favoriteProducts$.pipe((0,m.s)(1),(0,l.T)(r=>r.filter(a=>a.id!==i.id))).subscribe(r=>{this.favoriteProducts$=(0,d.of)(r)})})}productDetails(i){this.router.navigate(["product/",i])}static \u0275fac=function(n){return new(n||e)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:e,selectors:[["app-favorites"]],decls:3,vars:3,consts:[[1,"emptyFavorite"],["data-testid","structurePattern",1,"struturePadraoCards"],["data-testid","card",1,"padraoCard"],[1,"boxImg",3,"click"],[3,"src","alt"],[1,"boxInfoProduct"],[1,"pricing"],[1,"btnsProduct"],[3,"click"],["aria-label","shirt icon",1,"fa-solid","fa-shirt"],["aria-label","heart icon",3,"click"],["class","fa-regular fa-heart",4,"ngIf"],["class","fa-solid fa-heart",4,"ngIf"],[1,"fa-regular","fa-heart"],[1,"fa-solid","fa-heart"],["src","./assets/banners/Empty_hanger.png","alt","empty hanger"]],template:function(n,r){if(1&n&&(t.DNE(0,P,6,2),t.nI1(1,"async"),t.DNE(2,h,4,0,"div",0)),2&n){let a;t.vxM(0!==(null==(a=t.bMT(1,1,r.favoriteProducts$))?null:a.length)?0:2)}},dependencies:[_.bT,_.Jj],styles:["[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{margin:2rem 0 4rem;text-align:center}.emptyFavorite[_ngcontent-%COMP%]{height:60vh;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.emptyFavorite[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}@media (max-width: 440px){.emptyFavorite[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.emptyFavorite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%}}"],changeDetection:0})}return e})()}}]);