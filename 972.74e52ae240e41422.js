"use strict";(self.webpackChunkclothes_store=self.webpackChunkclothes_store||[]).push([[972],{5972:(D,s,r)=>{r.r(s),r.d(s,{ProductDetailComponent:()=>O});var t=r(3953),g=r(9722),h=r(6359),l=r(5558),p=r(6354),_=r(4668),d=r(177),m=r(4972),f=r(1453);const x=n=>({active:n});function P(n,a){if(1&n&&(t.j41(0,"div",2)(1,"div"),t.nrm(2,"img",3),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&n){const e=a.ngIf;t.R7$(2),t.Y8G("src",e.image,t.B4B)("alt",e.name),t.R7$(2),t.JRh(e.info)}}function C(n,a){1&n&&t.nrm(0,"i",13)}function v(n,a){1&n&&t.nrm(0,"i",14)}function u(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){const o=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.pickSizeClothe(o.label))}),t.EFF(1),t.k0s()}if(2&n){const e=a.$implicit,i=t.XpG(2);t.Y8G("ngClass",t.eq3(2,x,e.label===i.sizePicked)),t.R7$(),t.JRh(e.label)}}function M(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"span"),t.EFF(3,"Mark as favorite"),t.k0s(),t.j41(4,"button",6),t.bIt("click",function(){const o=t.eBV(e).ngIf,c=t.XpG();return t.Njj(c.clickInHeart(o))}),t.DNE(5,C,1,0,"i",7)(6,v,1,0,"i",8),t.k0s()(),t.j41(7,"div",9)(8,"span"),t.EFF(9),t.k0s(),t.j41(10,"span"),t.EFF(11),t.k0s()(),t.j41(12,"div",10)(13,"span"),t.EFF(14,"Size"),t.k0s(),t.j41(15,"div"),t.Z7z(16,u,2,4,"button",11,t.Vm6),t.nI1(18,"async"),t.k0s()(),t.j41(19,"button",12),t.bIt("click",function(){const o=t.eBV(e).ngIf,c=t.XpG();return t.Njj(c.addProductToCart(o))}),t.EFF(20,"Add to cart"),t.k0s()()}if(2&n){const e=a.ngIf,i=t.XpG();t.R7$(5),t.Y8G("ngIf",0==e.isFavorite),t.R7$(),t.Y8G("ngIf",1==e.isFavorite),t.R7$(3),t.JRh(e.name.toUpperCase()),t.R7$(2),t.SpI("$ ",e.price,""),t.R7$(5),t.Dyx(t.bMT(18,4,i.productSize$))}}let O=(()=>{class n{cdf;productsService=(0,t.WQX)(g.g);route=(0,t.WQX)(h.nX);listCartServices=(0,t.WQX)(m.F);messageService=(0,t.WQX)(f.b);constructor(e){this.cdf=e}product$=this.route.paramMap.pipe((0,l.n)(e=>{const i=e.get("id");return this.productsService.getProductById(parseInt(i)).pipe((0,p.T)(o=>(o.image&&o.image.includes("/upload")&&(o.image.startsWith("http://localhost:3000")||(o.image=`http://localhost:3000${o.image}`)),o)))}),(0,_.t)(1));productSize$=this.route.paramMap.pipe((0,l.n)(e=>{const i=e.get("id");return this.productsService.getProductSize(parseInt(i))}));clickInHeart(e){this.productsService.updateFavorite(e.id,e.isFavorite).subscribe({next:()=>{console.log("Heart in home changed"),e.isFavorite=!e.isFavorite,this.cdf.markForCheck()},error:i=>{console.log("ERROR changing isFavorite in home: ",i),this.cdf.markForCheck()}})}addProductToCart(e){if(null===this.sizePicked)return void this.messageService.showMessage("Pick a size of the product!","info");const i={...e,size:this.sizePicked};this.listCartServices.addingToCart(i)}sizePicked=null;pickSizeClothe(e){this.sizePicked=e}static \u0275fac=function(i){return new(i||n)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:n,selectors:[["app-product-detail"]],decls:4,vars:6,consts:[["class","leftSide",4,"ngIf"],["class","rightSide",4,"ngIf"],[1,"leftSide"],[3,"src","alt"],[1,"rightSide"],[1,"firstDiv"],["aria-label","heart icon",1,"btnHeart",3,"click"],["class","fa-regular fa-heart",4,"ngIf"],["class","fa-solid fa-heart",4,"ngIf"],[1,"secondDiv"],[1,"thirdDiv"],[3,"ngClass"],[1,"addToCart",3,"click"],[1,"fa-regular","fa-heart"],[1,"fa-solid","fa-heart"],[3,"click","ngClass"]],template:function(i,o){1&i&&(t.DNE(0,P,5,3,"div",0),t.nI1(1,"async"),t.DNE(2,M,21,6,"div",1),t.nI1(3,"async")),2&i&&(t.Y8G("ngIf",t.bMT(1,2,o.product$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,o.product$)))},dependencies:[d.Jj,d.bT,d.YU],styles:["[_nghost-%COMP%]{display:flex;height:75vh;max-width:900px;margin:auto;width:100%}.leftSide[_ngcontent-%COMP%], .rightSide[_ngcontent-%COMP%]{height:100%;width:50%;border-radius:10px}.leftSide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.leftSide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:400px;height:450px}.leftSide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.leftSide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px;text-align:justify}.rightSide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;row-gap:4rem;padding-left:2rem;box-shadow:1px 1px 5px var(--text-color)}.firstDiv[_ngcontent-%COMP%]{max-width:350px;width:100%;height:60px;display:flex;justify-content:space-between;align-items:center}.firstDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-family:var(--PrimaryFont)}.firstDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none}.firstDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--text-color)}.firstDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{text-shadow:2px 2px 5px var(--text-color)}.secondDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column}.thirdDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.thirdDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--PrimaryFont);font-size:1.3rem}.thirdDiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:1rem}.thirdDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:50%;height:35px;width:35px;font-family:var(--PrimaryFont);display:flex;justify-content:center;align-items:center;background-color:var(--text-color);color:var(--bg-color);font-weight:700;cursor:pointer}.thirdDiv[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--text-color);border:2px solid var(--text-color)}.addToCart[_ngcontent-%COMP%]{border:none;background-color:var(--text-color);color:var(--bg-color);font-weight:700;padding:.4rem 2rem}@media (max-width: 1024px){[_nghost-%COMP%]{height:50vh}}@media (max-width: 820px){[_nghost-%COMP%]{height:45vh;max-width:700px;width:100%}.leftSide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:450px}.btnHeart[_ngcontent-%COMP%]{padding-right:15px}}@media screen and (max-width: 480px){[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;max-width:900px;margin:none;width:100%;align-items:center}.leftSide[_ngcontent-%COMP%], .rightSide[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:10px}.leftSide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:350px;height:350px}.rightSide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;row-gap:4rem;padding-left:2rem;box-shadow:1px 1px 5px #000;width:380px}}@media screen and (max-width: 380px){[_nghost-%COMP%]{display:flex;flex-direction:column;height:120vh}.leftSide[_ngcontent-%COMP%], .rightSide[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:10px}.leftSide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:300px;height:320px}.rightSide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;row-gap:4rem;padding-left:2rem;box-shadow:1px 1px 5px #000;width:320px}}@media screen and (orientation: landscape) and (max-height: 480px){[_nghost-%COMP%]{display:flex;flex-direction:row;height:100vh;max-width:900px;margin:auto;width:100%;align-items:center}.leftSide[_ngcontent-%COMP%], .rightSide[_ngcontent-%COMP%]{margin-top:2rem;height:100%;width:50%}.leftSide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:350px;height:350px}.rightSide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;row-gap:4rem;padding-left:2rem;box-shadow:1px 1px 5px #000;width:400px}}@media screen and (orientation: landscape) and (max-height: 380px){[_nghost-%COMP%]{display:flex;flex-direction:row;height:110vh;max-width:900px;margin:auto;width:100%;align-items:center}.leftSide[_ngcontent-%COMP%], .rightSide[_ngcontent-%COMP%]{margin-top:2rem;height:100%;width:50%}.leftSide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:300px;height:300px}.rightSide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;row-gap:4rem;padding-left:2rem;box-shadow:1px 1px 5px #000;width:300px}}"],changeDetection:0})}return n})()}}]);