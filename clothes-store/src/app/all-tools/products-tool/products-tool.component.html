

<h2 style="text-align: center; margin: 0rem 0 1rem 0;">All Products</h2>

<!--productCreation-->
<div class="linksNavigation" *ngIf="createNewProductPage()">
    <button (click)="isProductsTableActive()" class="btnCreateProduct">Add New Product</button>
</div>

<div class="boxTable"> <!-- used just to create a scroll-x in mobile screen-->
    
    <table *ngIf="createNewProductPage()">
        <thead>
            <tr>
                <th class="sizeP">Id</th>
                <th class="sizeG">Nome</th>
                <th class="sizeGG">Info</th>
                <th class="sizeM">Section</th>
                <th class="sizeM">Sexo</th>
                <th class="sizeP">Qtd</th>
                <th class="sizeM">Price</th>
                <th class="sizeG">Actions</th>
            </tr>
        </thead>
        <tbody>
            @for(item of allProducts$ | async; track $index){
                <tr>
                    <td class="sizeP">{{item.id}}</td>
                    <td class="sizeG">{{item.name}}</td>
                    <td class="sizeGG">{{item.info}}</td>
                    <td class="sizeM">{{item.section}}</td>
                    <td class="sizeM">{{item.sexo}}</td>
                    <td class="sizeP">{{item.quantity}}</td>
                    <td class="sizeM">{{item.price.toFixed(2)}}</td>
                    <td class="btnsCrud">
                        <button class="edit" (click)="editProduct(item, $index)">Edit</button>
                        <button class="del" (click)="deleteProduct(item.id!)">Del</button>
                    </td>
                </tr>
            }
        </tbody> 
    
    </table>
</div>


<div class="shadow" *ngIf="shadowEditDialog"></div>


<div class="boxEditModel" *ngIf="editDialogOpen">
    <form #editForm="ngForm">
        <div class="boxInputsEdit">
            <input type="text" name="productName" [(ngModel)]="editItemData.name">
            <select name="section" [(ngModel)]="editItemData.section">
                <option [value]="editItemData.section">{{editItemData.section}}</option>
                <option value="shirts" *ngIf="editItemData.section !== 'shirts'">Shirts</option>
                <option value="shoes" *ngIf="editItemData.section !== 'shoes'">Shoes</option>
                <option value="shorts" *ngIf="editItemData.section !== 'shorts'">Shorts</option>
                <option value="jackets" *ngIf="editItemData.section !== 'jackets'">Jackets</option>
                <option value="coats" *ngIf="editItemData.section !== 'coats'">Coats</option>
            </select>

            <select name="sexo" [(ngModel)]="editItemData.sexo">
                <option [value]="editItemData.sexo">{{editItemData.sexo}}</option>
                <option value="masc" *ngIf="editItemData.sexo !== 'masc'">Masculine</option>
                <option value="femi" *ngIf="editItemData.sexo !== 'femi'">Feminine</option>
            </select>
            
            <input type="number" name="price" [(ngModel)]="editItemData.price">
            <input type="number" name="quantity" [(ngModel)]="editItemData.quantity">
            <textarea name="info" [(ngModel)]="editItemData.info"></textarea >
        </div>
        <div class="boxBtnsEdit">
            <button (click)="cancelEdit()">Cancel</button>
            <button (click)="btnFormEditProduct()">Save Changes</button>
        </div>
    </form>


</div>





<!-- post new product compenet -->
<app-creating-product *ngIf="!createNewProductPage()" (statusCreationPage)="handleResponse($event)"></app-creating-product>


